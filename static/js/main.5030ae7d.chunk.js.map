{"version":3,"sources":["components/Results/Results.module.sass","components/Input/Input.module.sass","components/DiceInputs/DiceInputs.module.sass","components/Footer/Footer.module.sass","components/Header/Header.module.sass","App.module.sass","serviceWorker.ts","components/Analysis/index.tsx","components/Footer/index.tsx","components/Header/index.tsx","components/DiceInputs/index.tsx","components/Input/index.tsx","components/Results/index.tsx","App.tsx","index.tsx"],"names":["module","exports","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","Analysis","dice","calcMinMax","which","total","forEach","die","number","sides","modifier","i","min","max","avg","calcAvg","className","styles","analysis","Footer","appGhURL","footer","copyright","href","target","rel","current","Date","getFullYear","toString","years","Header","header","title","DiceInputs","defaultDie","handleDieChange","handleAddRemove","numDice","dieRow","key","inputStyles","inputs","name","aria-label","type","step","value","onChange","e","selects","disabled","add","data-action","onClick","remove","Input","setDice","handleSubmit","handleNumbers","num","Math","round","change","newDice","splice","other","diceInputs","map","length","input","id","diceForm","autoComplete","submit","preventDefault","Results","results","resultRow","reverse","result","concatDice","Fragment","code","abs","dieResult","rolls","rollsIcon","icon","rollsNums","join","roll","JSON","stringify","rolled","rollTime","toLocaleTimeString","App","useState","setResults","main","newResults","newDie","parse","rollResult","j","floor","random","push","calcResult","action","getAttribute","ReactDOM","render","document","getElementById","URL","process","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.5030ae7d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"results\":\"Results_results__U5San\",\"roll\":\"Results_roll__3U5gL\",\"rollTime\":\"Results_rollTime__shRGN\",\"dice\":\"Results_dice__3qqGC\",\"die\":\"Results_die__YDiur\",\"summary\":\"Results_summary__crqLi\",\"rolls\":\"Results_rolls__1Qr3U\",\"rollsIcon\":\"Results_rollsIcon__1rByQ\",\"rollsNums\":\"Results_rollsNums__yQcRI\",\"icon\":\"Results_icon__jyMPf\",\"result\":\"Results_result__Zy_b4\",\"dieResult\":\"Results_dieResult__Tzqme\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputs\":\"Input_inputs__1j2M8\",\"dTypeRow\":\"Input_dTypeRow__2-ghL\",\"dType\":\"Input_dType__3gzCb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"add\":\"DiceInputs_add__1yBe4\",\"remove\":\"DiceInputs_remove__yOrUq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__2wW0P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3PqHd\",\"title\":\"Header_title__2TGUM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"App_main__9AEux\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void\n  onUpdate?: (registration: ServiceWorkerRegistration) => void\n}\n\nexport function register (config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    )\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\r\n\r\nimport { Die } from '../../App'\r\n\r\nimport styles from './Analysis.module.sass'\r\n\r\ninterface Props {\r\n  dice: Die[]\r\n}\r\n\r\ninterface Probability {\r\n  val: number\r\n  prob: number\r\n}\r\n\r\nconst Analysis: React.FC<Props> = ({ dice }) => {\r\n  const calcMinMax = (which: 'min' | 'max'): number => {\r\n    let total = 0\r\n\r\n    dice.forEach(die => {\r\n      const { number, sides, modifier } = die\r\n\r\n      for (let i = number; i > 0; i--) {\r\n        which === 'min'\r\n          ? (total += sides === 'f' ? -1 : 1)\r\n          : which === 'max'\r\n            ? (total += sides === 'f' ? 1 : sides)\r\n            : (total += 0)\r\n      }\r\n\r\n      total += modifier\r\n    })\r\n\r\n    return total\r\n  }\r\n\r\n  const calcAvg = (): number => {\r\n    let avg = 0\r\n\r\n    dice.forEach(die => {\r\n      const { number, sides, modifier } = die\r\n\r\n      sides === 'f' ? (avg += modifier) : (avg += ((sides + 1) / 2) * number)\r\n    })\r\n\r\n    return avg\r\n  }\r\n\r\n  const getSidesArr = (): number[] => {\r\n    const arr: number[] = []\r\n\r\n    dice.forEach(die => {\r\n      for (let i = die.number; i > 0; i--) {\r\n        if (die.sides === 'f') {\r\n          arr.push(3)\r\n        } else {\r\n          arr.push(die.sides)\r\n        }\r\n      }\r\n    })\r\n\r\n    return arr\r\n  }\r\n\r\n  /*\r\n  const calcDieResults = (rolls: number[]): number => {\r\n    let total = 0\r\n    let roll = 0\r\n\r\n    dice.forEach(die => {\r\n      const { number, modifier } = die\r\n      let subtotal = 0\r\n\r\n      for (let i = 0; i < multiplier; i++) {\r\n        let subsubtotal = 0\r\n\r\n        for (let j = 0; j < number; j++, roll++) {\r\n          subsubtotal += rolls[roll]\r\n        }\r\n\r\n        subtotal += subsubtotal + modifier\r\n      }\r\n\r\n      total += subtotal + mulMod\r\n    })\r\n\r\n    return total\r\n  }\r\n\r\n  const calcSucc = (\r\n    target: number,\r\n    count: number,\r\n    attempts: number[],\r\n    roll: number,\r\n    original?: number[]\r\n  ): number => {\r\n    let successes = count\r\n    const orig = original === undefined ? [...attempts] : original\r\n    const newAttempts = [...attempts]\r\n\r\n    if (roll === 0 || newAttempts[roll] !== orig[roll]) {\r\n      console.log('checking success')\r\n      if (calcDieResults(newAttempts) === target) {\r\n        successes++\r\n      }\r\n    }\r\n\r\n    for (let i = newAttempts[roll]; i > 0; i--) {\r\n      console.log(newAttempts)\r\n      newAttempts[roll]--\r\n\r\n      if (newAttempts[roll] > 0) {\r\n        if (roll < orig.length - 1) {\r\n          return calcSucc(target, successes, newAttempts, roll + 1, orig)\r\n        } else {\r\n          return calcSucc(target, successes, newAttempts, roll, orig)\r\n        }\r\n      } else {\r\n        return successes\r\n      }\r\n    }\r\n\r\n    return successes\r\n  }\r\n\r\n  const diceProbs = (min: number, max: number): Probability[] => {\r\n    const probabilities: Probability[] = []\r\n    const sidesArr = getSidesArr()\r\n\r\n    for (let i = min; i <= max; i++) {\r\n      console.log('start')\r\n      probabilities.push({\r\n        val: i,\r\n        prob: calcSucc(i, 0, sidesArr, 0)\r\n      })\r\n    }\r\n\r\n    return probabilities\r\n  }\r\n  */\r\n\r\n  const min = calcMinMax('min')\r\n  const max = calcMinMax('max')\r\n  const avg = calcAvg()\r\n  //const probs = diceProbs(min, max)\r\n\r\n  return (\r\n    <section className={styles.analysis}>\r\n      <p>Min: {min}</p>\r\n      <p>Max: {max}</p>\r\n      <p>Avg: {avg}</p>\r\n      <p>Probabilities: to be calculated</p>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Analysis\r\n","import React from 'react'\r\n\r\nimport styles from './Footer.module.sass'\r\n\r\nconst Footer: React.FC = () => {\r\n  const years = (): string => {\r\n    const start = 2019\r\n    const current = new Date().getFullYear()\r\n    return current > start ? `${start}–${current}` : start.toString()\r\n  }\r\n\r\n  const author = 'Ian A. Cook'\r\n  const authorURL = 'https://github.com/nai888/'\r\n  const appGhURL = 'https://github.com/nai888/dice-roller/'\r\n  const version = '0.1.0'\r\n\r\n  return (\r\n    <footer className={styles.footer}>\r\n      <p className={styles.copyright}>\r\n        <i className='fas fa-code' />{' '}\r\n        <a\r\n          href={appGhURL + 'blob/master/CHANGELOG.md'}\r\n          target='_blank'\r\n          rel='noopener noreferrer'\r\n        >\r\n          Version {version}\r\n        </a>\r\n        . Built by <i className='fas fa-wrench' />{' '}\r\n        <a href={authorURL} target='_blank' rel='noopener noreferrer'>\r\n          {author}\r\n        </a>\r\n        , copyright &copy; {years()} under the <i className='fas fa-gavel' />{' '}\r\n        <a\r\n          href={appGhURL + 'blob/master/LICENSE'}\r\n          target='_blank'\r\n          rel='noopener noreferrer'\r\n        >\r\n          AGPL-3.0\r\n        </a>{' '}\r\n        license. View this project <i className='fab fa-github' />{' '}\r\n        <a href={appGhURL} target='_blank' rel='noopener noreferrer'>\r\n          on GitHub\r\n        </a>\r\n        .\r\n      </p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react'\r\n\r\nimport styles from './Header.module.sass'\r\n\r\nconst Header: React.FC = () => (\r\n  <header className={styles.header}>\r\n    <h1 className={styles.title}>Dice Roller</h1>\r\n  </header>\r\n)\r\n\r\nexport default Header\r\n","import React, { SyntheticEvent } from 'react'\r\n\r\nimport { Die, defaultDie } from '../../App'\r\n\r\nimport inputStyles from '../Input/Input.module.sass'\r\n\r\nimport styles from './DiceInputs.module.sass'\r\n\r\ninterface Props {\r\n  die: Die\r\n  i: number\r\n  handleDieChange: (\r\n    die: Die,\r\n    num: number,\r\n    change: 'num' | 'sid' | 'oth' | 'mod',\r\n    i: number\r\n  ) => void\r\n  handleAddRemove: (e: SyntheticEvent) => void\r\n  numDice: number\r\n}\r\n\r\nconst DiceInputs: React.FC<Props> = ({\r\n  die = defaultDie,\r\n  i = 0,\r\n  handleDieChange,\r\n  handleAddRemove,\r\n  numDice\r\n}) => {\r\n  const addButton = () => (\r\n    <button\r\n      type='button'\r\n      className={styles.add}\r\n      name={`add-${i + 1}`}\r\n      data-action='add'\r\n      aria-label='Add a new die'\r\n      value={i}\r\n      onClick={handleAddRemove}\r\n    >\r\n      Add\r\n    </button>\r\n  )\r\n\r\n  const remButton = () => (\r\n    <button\r\n      type='button'\r\n      className={styles.remove}\r\n      name={`remove-${i + 1}`}\r\n      data-action='remove'\r\n      aria-label={`Remove die ${i + 1}`}\r\n      value={i}\r\n      onClick={handleAddRemove}\r\n    >\r\n      Remove\r\n    </button>\r\n  )\r\n\r\n  return (\r\n    <p className={styles.dieRow} key={i}>\r\n      <input\r\n        className={inputStyles.inputs}\r\n        name={`number-${i + 1}`}\r\n        aria-label={`Dice ${i + 1} multiplier`}\r\n        type='number'\r\n        min={1}\r\n        step={1}\r\n        value={die.number}\r\n        onChange={e => handleDieChange(die, +e.target.value, 'num', i)}\r\n      />{' '}\r\n      d\r\n      <select\r\n        className={inputStyles.selects}\r\n        name={`sides-${i + 1}`}\r\n        aria-label={`Dice ${i + 1} number of sides`}\r\n        value={die.sides}\r\n        onChange={e => handleDieChange(die, +e.target.value, 'sid', i)}\r\n      >\r\n        <option value={20}>20</option>\r\n        <option value={12}>12</option>\r\n        <option value={10}>10</option>\r\n        <option value={8}>8</option>\r\n        <option value={6}>6</option>\r\n        <option value={4}>4</option>\r\n        <option value={2}>2</option>\r\n        <option value='f' disabled>fudge</option>\r\n        <option value='other' disabled>other</option>\r\n      </select>{' '}\r\n      +{' '}\r\n      <input\r\n        className={inputStyles.inputs}\r\n        name={`modifier-${i + 1}`}\r\n        aria-label={`Dice ${i + 1} modifier`}\r\n        type='number'\r\n        step={1}\r\n        value={die.modifier}\r\n        onChange={e => handleDieChange(die, +e.target.value, 'mod', i)}\r\n      />\r\n      {addButton()}\r\n      {numDice > 1 ? remButton() : null}\r\n    </p>\r\n  )\r\n}\r\n\r\nexport default DiceInputs\r\n","import React, { SyntheticEvent } from 'react'\r\n\r\nimport { Die, defaultDie } from '../../App'\r\n\r\nimport DiceInputs from '../DiceInputs'\r\n\r\nimport styles from './Input.module.sass'\r\n\r\ninterface Props {\r\n  dice: Die[]\r\n  setDice: React.Dispatch<React.SetStateAction<Die[]>>\r\n  handleSubmit: () => void\r\n  handleAddRemove: (e: SyntheticEvent) => void\r\n}\r\n\r\nconst Input: React.FC<Props> = ({\r\n  dice = [defaultDie],\r\n  setDice,\r\n  handleSubmit,\r\n  handleAddRemove\r\n}) => {\r\n  const handleNumbers = (num: number, min?: number): number =>\r\n    min ? (num < min ? min : Math.round(num)) : Math.round(num)\r\n\r\n  const handleDieChange = (\r\n    die: Die,\r\n    num: number,\r\n    change: 'num' | 'sid' | 'oth' | 'mod',\r\n    i: number\r\n  ): void => {\r\n    const newDice = [...dice]\r\n\r\n    newDice.splice(i, 1, {\r\n      number: change === 'num' ? handleNumbers(num, 1) : die.number,\r\n      sides: change === 'sid' ? handleNumbers(num, 2) : die.sides,\r\n      other: die.other,\r\n      modifier: change === 'mod' ? handleNumbers(num) : die.modifier\r\n    })\r\n\r\n    setDice(newDice)\r\n  }\r\n\r\n  const diceInputs = dice.map((die, i) => (\r\n    <DiceInputs\r\n      die={die}\r\n      i={i}\r\n      handleDieChange={handleDieChange}\r\n      handleAddRemove={handleAddRemove}\r\n      numDice={dice.length}\r\n      key={i}\r\n    />\r\n  ))\r\n\r\n  const submit = (e: SyntheticEvent) => {\r\n    e.preventDefault()\r\n    handleSubmit()\r\n  }\r\n\r\n  return (\r\n    <section className={styles.input}>\r\n      <form\r\n        id={styles.diceForm}\r\n        className={styles.diceForm}\r\n        name='diceForm'\r\n        autoComplete='false'\r\n      >\r\n        {diceInputs}\r\n        <button\r\n          className={styles.submit}\r\n          name='submit'\r\n          type='submit'\r\n          value='submit'\r\n          onClick={submit}\r\n        >\r\n          Roll\r\n        </button>\r\n      </form>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Input\r\n","import React from 'react'\r\n\r\nimport { Result } from '../../App'\r\n\r\nimport styles from './Results.module.sass'\r\n\r\ninterface Props {\r\n  results: Result[]\r\n}\r\n\r\nconst Results: React.FC<Props> = ({ results }) => {\r\n  const resultRow = [...results].reverse().map(result => {\r\n    const concatDice = result.dice.map((die, i) => (\r\n      <React.Fragment key={i}>\r\n        <li className={styles.die}>\r\n          <span className={styles.code}>\r\n            {`${die.number}d${die.sides} ${die.modifier < 0 ? '−' : '+'} ${Math.abs(die.modifier)} = `}\r\n            <span className={styles.dieResult}>{die.result}</span>\r\n          </span>\r\n          <span className={styles.rolls}>\r\n            <span className={styles.rollsIcon}>\r\n              <i className={`${styles.icon} fas fa-dice-d20`} />\r\n            </span>\r\n            <span className={styles.rollsNums}>\r\n              {` ${die.rolls ? die.rolls.join(', ') : null}`}\r\n            </span>\r\n          </span>\r\n        </li>\r\n      </React.Fragment>\r\n    ))\r\n\r\n    return (\r\n      <div className={styles.roll} key={JSON.stringify(result.rolled)}>\r\n        <p className={styles.rollTime}>{result.rolled.toLocaleTimeString()}</p>\r\n        <ul className={styles.dice}>{concatDice}</ul>\r\n        <p className={styles.result}>{result.result}</p>\r\n      </div>\r\n    )\r\n  })\r\n\r\n  return <aside className={styles.results}>{resultRow}</aside>\r\n}\r\n\r\nexport default Results\r\n","import React, { useState, SyntheticEvent } from 'react'\r\n\r\nimport Analysis from './components/Analysis'\r\nimport Footer from './components/Footer'\r\nimport Header from './components/Header'\r\nimport Input from './components/Input'\r\nimport Results from './components/Results'\r\n\r\nimport styles from './App.module.sass'\r\n\r\nexport type DieType = number | 'f'\r\n\r\nexport interface Die {\r\n  number: number\r\n  sides: DieType\r\n  other: boolean\r\n  modifier: number\r\n  rolls?: number[]\r\n  result?: number\r\n}\r\n\r\nexport interface Result {\r\n  type?: DieType\r\n  dice: Die[]\r\n  result: number\r\n  rolled: Date\r\n}\r\n\r\nexport const defaultDie: Die = {\r\n  number: 1,\r\n  sides: 20,\r\n  other: false,\r\n  modifier: 0\r\n}\r\n\r\nconst App: React.FC = () => {\r\n  const [dice, setDice] = useState<Die[]>([defaultDie])\r\n  const [results, setResults] = useState<Result[]>([])\r\n\r\n  const calcResult = (die: Die) => {\r\n    const { number, sides, modifier } = die\r\n    let num = number\r\n    let total = 0\r\n    const rolls: number[] = []\r\n\r\n    for (let j = num; j > 0; j--) {\r\n      const roll =\r\n        typeof sides === 'number'\r\n          ? Math.floor(Math.random() * sides) + 1\r\n          : Math.floor(Math.random() * 3) - 1\r\n\r\n      rolls.push(roll)\r\n      total += roll\r\n    }\r\n\r\n    total += modifier\r\n\r\n    return { total, rolls }\r\n  }\r\n\r\n  const handleSubmit = (): void => {\r\n    const newResults = [...results]\r\n    const newDice: Die[] = []\r\n    let result = 0\r\n\r\n    dice.forEach(die => {\r\n      const newDie: Die = JSON.parse(JSON.stringify(die))\r\n      const rollResult = calcResult(die)\r\n\r\n      newDie.rolls = rollResult.rolls\r\n      newDie.result = rollResult.total\r\n      newDice.push(newDie)\r\n      result += newDie.result\r\n    })\r\n\r\n    newResults.push({\r\n      dice: newDice,\r\n      result: result,\r\n      rolled: new Date()\r\n    })\r\n\r\n    setResults(newResults)\r\n  }\r\n\r\n  const handleAddRemove = (e: SyntheticEvent): void => {\r\n    e.preventDefault()\r\n    const target = e.target as HTMLButtonElement\r\n    const action = target.getAttribute('data-action')\r\n    const die = +target.value\r\n    const newDice = [...dice]\r\n\r\n    if (action === 'add') {\r\n      if (die === newDice.length) {\r\n        newDice.push(defaultDie)\r\n      } else {\r\n        newDice.splice(die + 1, 0, defaultDie)\r\n      }\r\n    } else {\r\n      newDice.splice(die, 1)\r\n    }\r\n\r\n    setDice(newDice)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <main className={styles.main}>\r\n        <Input\r\n          dice={dice}\r\n          setDice={setDice}\r\n          handleSubmit={handleSubmit}\r\n          handleAddRemove={handleAddRemove}\r\n        />\r\n        <Results results={results} />\r\n        <Analysis dice={dice} />\r\n      </main>\r\n      <Footer />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport * as serviceWorker from './serviceWorker'\nimport App from './App'\nimport './global.sass'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\nserviceWorker.register()\n"],"sourceRoot":""}