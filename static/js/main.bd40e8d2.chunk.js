(this["webpackJsonpdice-roller"]=this["webpackJsonpdice-roller"]||[]).push([[0],[,function(e,a,t){e.exports={results:"Results_results__U5San",roll:"Results_roll__3U5gL",rollTime:"Results_rollTime__shRGN",dice:"Results_dice__3qqGC",die:"Results_die__YDiur",summary:"Results_summary__crqLi",rolls:"Results_rolls__1Qr3U",rollsIcon:"Results_rollsIcon__1rByQ",rollsNums:"Results_rollsNums__yQcRI",icon:"Results_icon__jyMPf",result:"Results_result__Zy_b4",dieResult:"Results_dieResult__Tzqme"}},,function(e,a,t){e.exports={inputs:"Input_inputs__1j2M8",dTypeRow:"Input_dTypeRow__2-ghL",dType:"Input_dType__3gzCb"}},,,function(e,a,t){e.exports={add:"DiceInputs_add__1yBe4",remove:"DiceInputs_remove__yOrUq"}},function(e,a,t){e.exports={footer:"Footer_footer__2wW0P"}},function(e,a,t){e.exports={header:"Header_header__3PqHd",title:"Header_title__2TGUM"}},,,,function(e,a,t){},function(e,a,t){e.exports={main:"App_main__9AEux"}},function(e,a,t){e.exports=t(20)},,,,,function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(11),l=t.n(o),i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function c(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var s=t(2),u=t(9),m=t(12),d=t.n(m),f=function(e){var a=e.dice,t=function(e){var t=0;return a.forEach((function(a){for(var n=a.number,r=a.sides,o=a.modifier,l=n;l>0;l--)t+="min"===e?"f"===r?-1:1:"max"===e?"f"===r?1:r:0;t+=o})),t},n=function(){var e=1;return a.forEach((function(a){var t=a.number,n=a.sides;e*="f"===n?3*t:Math.pow(n,t)})),e},o=t("min"),l=t("max");return r.a.createElement("section",{className:d.a.analysis},r.a.createElement("p",null,"Min: ",o),r.a.createElement("p",null,"Max: ",l),r.a.createElement("p",null,"Avg: ",function(){var e=0;return a.forEach((function(a){var t=a.number,n=a.sides,r=a.modifier;e+="f"===n?r:t*((n+1)/2)+r})),e}()),r.a.createElement("p",null,"Probabilities: of ",n()," possible results"))},p=t(7),h=t.n(p),v=function(){var e="https://github.com/Susurrus-LLC/dice-roller/";return r.a.createElement("footer",{className:h.a.footer},r.a.createElement("p",{className:h.a.copyright},r.a.createElement("i",{className:"fas fa-code"})," ",r.a.createElement("a",{href:e+"blob/master/CHANGELOG.md",target:"_blank",rel:"noopener noreferrer"},"Version ","0.1.2"),". Built by ",r.a.createElement("i",{className:"fas fa-wrench"})," ",r.a.createElement("a",{href:"https://github.com/nai888/",target:"_blank",rel:"noopener noreferrer"},"Ian A. Cook"),", copyright \xa9 ",function(){var e=(new Date).getFullYear();return e>2019?"".concat(2019,"\u2013").concat(e):2019..toString()}()," under the ",r.a.createElement("i",{className:"fas fa-gavel"})," ",r.a.createElement("a",{href:e+"blob/master/LICENSE",target:"_blank",rel:"noopener noreferrer"},"AGPL-3.0")," ","license. View this project ",r.a.createElement("i",{className:"fab fa-github"})," ",r.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},"on GitHub"),"."))},b=t(8),E=t.n(b),_=function(){return r.a.createElement("header",{className:E.a.header},r.a.createElement("h1",{className:E.a.title},"Dice Roller"))},g=t(3),N=t.n(g),y=t(6),w=t.n(y),R=function(e){var a=e.die,t=void 0===a?O:a,n=e.i,o=void 0===n?0:n,l=e.handleDieChange,i=e.handleAddRemove,c=e.numDice;return r.a.createElement("p",{className:w.a.dieRow,key:o},r.a.createElement("input",{className:N.a.inputs,name:"number-".concat(o+1),"aria-label":"Dice ".concat(o+1," multiplier"),type:"number",min:1,step:1,value:t.number,onChange:function(e){return l(t,+e.target.value,"num",o)}})," ","d",r.a.createElement("select",{className:N.a.selects,name:"sides-".concat(o+1),"aria-label":"Dice ".concat(o+1," number of sides"),value:t.sides,onChange:function(e){return l(t,+e.target.value,"sid",o)}},r.a.createElement("option",{value:20},"20"),r.a.createElement("option",{value:12},"12"),r.a.createElement("option",{value:10},"10"),r.a.createElement("option",{value:8},"8"),r.a.createElement("option",{value:6},"6"),r.a.createElement("option",{value:4},"4"),r.a.createElement("option",{value:2},"2"),r.a.createElement("option",{value:"f",disabled:!0},"fudge"),r.a.createElement("option",{value:"other",disabled:!0},"other"))," ","+"," ",r.a.createElement("input",{className:N.a.inputs,name:"modifier-".concat(o+1),"aria-label":"Dice ".concat(o+1," modifier"),type:"number",step:1,value:t.modifier,onChange:function(e){return l(t,+e.target.value,"mod",o)}}),r.a.createElement("button",{type:"button",className:w.a.add,name:"add-".concat(o+1),"data-action":"add","aria-label":"Add a new die",value:o,onClick:i},"Add"),c>1?r.a.createElement("button",{type:"button",className:w.a.remove,name:"remove-".concat(o+1),"data-action":"remove","aria-label":"Remove die ".concat(o+1),value:o,onClick:i},"Remove"):null)},k=function(e){var a=e.dice,t=void 0===a?[O]:a,n=e.setDice,o=e.handleSubmit,l=e.handleAddRemove,i=function(e,a){return a&&e<a?a:Math.round(e)},c=function(e,a,r,o){var l=Object(s.a)(t);l.splice(o,1,{number:"num"===r?i(a,1):e.number,sides:"sid"===r?i(a,2):e.sides,other:e.other,modifier:"mod"===r?i(a):e.modifier}),n(l)},u=t.map((function(e,a){return r.a.createElement(R,{die:e,i:a,handleDieChange:c,handleAddRemove:l,numDice:t.length,key:a})}));return r.a.createElement("section",{className:N.a.input},r.a.createElement("form",{id:N.a.diceForm,className:N.a.diceForm,name:"diceForm",autoComplete:"false"},u,r.a.createElement("button",{className:N.a.submit,name:"submit",type:"submit",value:"submit",onClick:function(e){e.preventDefault(),o()}},"Roll")))},A=t(1),C=t.n(A),D=function(e){var a=e.results,t=Object(s.a)(a).reverse().map((function(e){var a=e.dice.map((function(e,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement("li",{className:C.a.die},r.a.createElement("span",{className:C.a.code},"".concat(e.number,"d").concat(e.sides," ").concat(e.modifier<0?"\u2212":"+"," ").concat(Math.abs(e.modifier)," = "),r.a.createElement("span",{className:C.a.dieResult},e.result)),r.a.createElement("span",{className:C.a.rolls},r.a.createElement("span",{className:C.a.rollsIcon},r.a.createElement("i",{className:"".concat(C.a.icon," fas fa-dice-d20")})),r.a.createElement("span",{className:C.a.rollsNums}," ".concat(e.rolls?e.rolls.join(", "):null)))))}));return r.a.createElement("div",{className:C.a.roll,key:JSON.stringify(e.rolled)},r.a.createElement("p",{className:C.a.rollTime},e.rolled.toLocaleTimeString()),r.a.createElement("ul",{className:C.a.dice},a),r.a.createElement("p",{className:C.a.result},e.result))}));return r.a.createElement("aside",{className:C.a.results},t)},S=t(13),j=t.n(S),O={number:1,sides:20,other:!1,modifier:0},x=function(){var e=Object(n.useState)([O]),a=Object(u.a)(e,2),t=a[0],o=a[1],l=Object(n.useState)([]),i=Object(u.a)(l,2),c=i[0],m=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null),r.a.createElement("main",{className:j.a.main},r.a.createElement(k,{dice:t,setDice:o,handleSubmit:function(){var e=Object(s.a)(c),a=[],n=0;t.forEach((function(e){var t=JSON.parse(JSON.stringify(e)),r=function(e){for(var a=e.number,t=e.sides,n=e.modifier,r=0,o=[],l=a;l>0;l--){var i="number"===typeof t?Math.floor(Math.random()*t)+1:Math.floor(3*Math.random())-1;o.push(i),r+=i}return{total:r+=n,rolls:o}}(e);t.rolls=r.rolls,t.result=r.total,a.push(t),n+=t.result})),e.push({dice:a,result:n,rolled:new Date}),m(e)},handleAddRemove:function(e){e.preventDefault();var a=e.target,n=a.getAttribute("data-action"),r=+a.value,l=Object(s.a)(t);"add"===n?r===l.length?l.push(O):l.splice(r+1,0,O):l.splice(r,1),o(l)}}),r.a.createElement(D,{results:c}),r.a.createElement(f,{dice:t})),r.a.createElement(v,null))};t(19);l.a.render(r.a.createElement(x,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/dice-roller",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("/dice-roller","/service-worker.js");i?(!function(e,a){fetch(e).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):c(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):c(a,e)}))}}()}],[[14,1,2]]]);
//# sourceMappingURL=main.bd40e8d2.chunk.js.map