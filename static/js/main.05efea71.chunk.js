(this["webpackJsonpdice-roller"]=this["webpackJsonpdice-roller"]||[]).push([[0],[,,function(e,n,t){e.exports={results:"Results_results__2ZRu1",roll:"Results_roll__rWInd",rollTime:"Results_rollTime__1hDzi",dice:"Results_dice__3ZCux",die:"Results_die__1bcEo",summary:"Results_summary__3HiLb",rolls:"Results_rolls__1S9j5",rollsIcon:"Results_rollsIcon__2HOBx",rollsNums:"Results_rollsNums__MjhGR",icon:"Results_icon__y77wI",result:"Results_result__7hAq4",dieResult:"Results_dieResult__2NRVB"}},,function(e,n,t){e.exports={inputs:"Input_inputs__3DgFX",dTypeRow:"Input_dTypeRow__2BGbC",dType:"Input_dType__1fO2B"}},,,function(e,n,t){e.exports={add:"DiceInputs_add__1hpd6",remove:"DiceInputs_remove__2mc2q"}},,function(e,n,t){e.exports={footer:"Footer_footer__3HGV9"}},function(e,n,t){e.exports={header:"Header_header__JleW2",title:"Header_title__TfsD1"}},,,function(e,n,t){},function(e,n,t){e.exports={main:"App_main__3FbcY"}},,,,,,function(e,n,t){},function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),o=t(12),i=t.n(o),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function s(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(null!==navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),void 0!==(null===n||void 0===n?void 0:n.onUpdate)&&n.onUpdate(e)):(console.log("Content is cached for offline use."),void 0!==(null===n||void 0===n?void 0:n.onSuccess)&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var l=t(3),u=t(11),d=t(13),h=t.n(d),f=t(0),b=function(e){var n=e.dice,t=function(e){var t=0;return n.forEach((function(n){for(var r=n.number,a=n.sides,o=n.modifier,i=r;i>0;i--)t+="min"===e?"f"===a?-1:1:"max"===e?"f"===a?1:a:0;t+=o})),t},r=function(){var e=1;return n.forEach((function(n){var t=n.number,r=n.sides;e*="f"===r?3*t:Math.pow(r,t)})),e},a=function(){var e=[];return n.forEach((function(n){for(var t=n.number;t>0;t--)"f"===n.sides?e.push(3):e.push(n.sides)})),e},o=function(e){var t=0,r=0;return n.forEach((function(n){for(var a=n.number,o=n.modifier,i=0,c=0;c<a;c++,r++)i+=e[r];t+=i+o})),t},i=function e(n,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,i=0,c=void 0===a?Object(l.a)(t):a,s=Object(l.a)(t),u=s[r];u>0;u--)s[r]=u,0!==r&&s[r]===c[r]||o(s)!==n||i++,r<c.length-1&&(i+=e(n,s,r+1,c));return i},c=t("min"),s=t("max");return Object(f.jsxs)("section",{className:h.a.analysis,children:[Object(f.jsxs)("p",{children:["Min: ",c]}),Object(f.jsxs)("p",{children:["Max: ",s]}),Object(f.jsxs)("p",{children:["Avg: ",function(){var e=0;return n.forEach((function(n){var t=n.number,r=n.sides,a=n.modifier;e+="f"===r?a:t*((r+1)/2)+a})),e}()]}),Object(f.jsxs)("p",{children:["Probabilities: of ",r()," possible results"]}),Object(f.jsx)("p",{children:JSON.stringify(function(e,n){for(var t=[],o=r(),c=e;c<=n;c++){var s=i(c,a());t.push({val:c,prob:"".concat(Math.round(s/o*1e4)/100,"%: ").concat(s," / ").concat(o)})}return t}(c,s))})]})},m=t(9),j=t.n(m),p=function(){var e="https://github.com/Susurrus-LLC/dice-roller/";return Object(f.jsx)("footer",{className:j.a.footer,children:Object(f.jsxs)("p",{className:j.a.copyright,children:[Object(f.jsx)("i",{className:"fas fa-code"})," ",Object(f.jsxs)("a",{href:e+"blob/master/CHANGELOG.md",target:"_blank",rel:"noopener noreferrer",children:["Version ","0.1.2"]}),". Built by ",Object(f.jsx)("i",{className:"fas fa-wrench"})," ",Object(f.jsx)("a",{href:"https://github.com/nai888/",target:"_blank",rel:"noopener noreferrer",children:"Ian A. Cook"}),", copyright \xa9 ",function(){var e=2019,n=(new Date).getFullYear();return n>e?"".concat(e,"\u2013").concat(n):e.toString()}()," under the ",Object(f.jsx)("i",{className:"fas fa-gavel"})," ",Object(f.jsx)("a",{href:e+"blob/master/LICENSE",target:"_blank",rel:"noopener noreferrer",children:"AGPL-3.0"})," ","license. View this project ",Object(f.jsx)("i",{className:"fab fa-github"})," ",Object(f.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:"on GitHub"}),"."]})})},v=t(10),O=t.n(v),x=function(){return Object(f.jsx)("header",{className:O.a.header,children:Object(f.jsx)("h1",{className:O.a.title,children:"Dice Roller"})})},_=t(4),g=t.n(_),N=t(7),w=t.n(N),R=function(e){var n=e.die,t=void 0===n?E:n,r=e.i,a=void 0===r?0:r,o=e.handleDieChange,i=e.handleAddRemove,c=e.numDice;return Object(f.jsxs)("p",{className:w.a.dieRow,children:[Object(f.jsx)("input",{className:g.a.inputs,name:"number-".concat(a+1),"aria-label":"Dice ".concat(a+1," multiplier"),type:"number",min:1,step:1,value:t.number,onChange:function(e){return o(t,+e.target.value,"num",a)}})," ","d",Object(f.jsxs)("select",{className:g.a.selects,name:"sides-".concat(a+1),"aria-label":"Dice ".concat(a+1," number of sides"),value:t.sides,onChange:function(e){return o(t,+e.target.value,"sid",a)},children:[Object(f.jsx)("option",{value:20,children:"20"}),Object(f.jsx)("option",{value:12,children:"12"}),Object(f.jsx)("option",{value:10,children:"10"}),Object(f.jsx)("option",{value:8,children:"8"}),Object(f.jsx)("option",{value:6,children:"6"}),Object(f.jsx)("option",{value:4,children:"4"}),Object(f.jsx)("option",{value:2,children:"2"}),Object(f.jsx)("option",{value:"f",disabled:!0,children:"fudge"}),Object(f.jsx)("option",{value:"other",disabled:!0,children:"other"})]})," ","+"," ",Object(f.jsx)("input",{className:g.a.inputs,name:"modifier-".concat(a+1),"aria-label":"Dice ".concat(a+1," modifier"),type:"number",step:1,value:t.modifier,onChange:function(e){return o(t,+e.target.value,"mod",a)}}),Object(f.jsx)("button",{type:"button",className:w.a.add,name:"add-".concat(a+1),"data-action":"add","aria-label":"Add a new die",value:a,onClick:i,children:"Add"}),c>1?Object(f.jsx)("button",{type:"button",className:w.a.remove,name:"remove-".concat(a+1),"data-action":"remove","aria-label":"Remove die ".concat(a+1),value:a,onClick:i,children:"Remove"}):null]},a)},y=function(e){var n=e.dice,t=void 0===n?[E]:n,r=e.setDice,a=e.handleSubmit,o=e.handleAddRemove,i=function(e,n){return void 0!==n&&e<n?n:Math.round(e)},c=function(e,n,a,o){var c=Object(l.a)(t);c.splice(o,1,{number:"num"===a?i(n,1):e.number,sides:"sid"===a?i(n,2):e.sides,other:e.other,modifier:"mod"===a?i(n):e.modifier}),r(c)},s=t.map((function(e,n){return Object(f.jsx)(R,{die:e,i:n,handleDieChange:c,handleAddRemove:o,numDice:t.length},n)}));return Object(f.jsx)("section",{className:g.a.input,children:Object(f.jsxs)("form",{id:g.a.diceForm,className:g.a.diceForm,name:"diceForm",autoComplete:"false",children:[s,Object(f.jsx)("button",{className:g.a.submit,name:"submit",type:"submit",value:"submit",onClick:function(e){e.preventDefault(),a()},children:"Roll"})]})})},D=t(2),k=t.n(D),A=function(e){var n=e.results,t=Object(l.a)(n).reverse().map((function(e){var n=e.dice.map((function(e,n){return Object(f.jsx)(a.a.Fragment,{children:Object(f.jsxs)("li",{className:k.a.die,children:[Object(f.jsxs)("span",{className:k.a.code,children:["".concat(e.number,"d").concat(e.sides," ").concat(e.modifier<0?"\u2212":"+"," ").concat(Math.abs(e.modifier)," = "),Object(f.jsx)("span",{className:k.a.dieResult,children:e.result})]}),Object(f.jsxs)("span",{className:k.a.rolls,children:[Object(f.jsx)("span",{className:k.a.rollsIcon,children:Object(f.jsx)("i",{className:"".concat(k.a.icon," fas fa-dice-d20")})}),Object(f.jsx)("span",{className:k.a.rollsNums,children:" ".concat(void 0!==e.rolls?e.rolls.join(", "):"")})]})]})},n)}));return Object(f.jsxs)("div",{className:k.a.roll,children:[Object(f.jsx)("p",{className:k.a.rollTime,children:e.rolled.toLocaleTimeString()}),Object(f.jsx)("ul",{className:k.a.dice,children:n}),Object(f.jsx)("p",{className:k.a.result,children:e.result})]},JSON.stringify(e.rolled))}));return Object(f.jsx)("aside",{className:k.a.results,children:t})},C=t(14),S=t.n(C),E={number:1,sides:20,other:!1,modifier:0},I=function(){var e=Object(r.useState)([E]),n=Object(u.a)(e,2),t=n[0],a=n[1],o=Object(r.useState)([]),i=Object(u.a)(o,2),c=i[0],s=i[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(x,{}),Object(f.jsxs)("main",{className:S.a.main,children:[Object(f.jsx)(y,{dice:t,setDice:a,handleSubmit:function(){var e=Object(l.a)(c),n=[],r=0;t.forEach((function(e){var t=JSON.parse(JSON.stringify(e)),a=function(e){for(var n=e.number,t=e.sides,r=e.modifier,a=0,o=[],i=n;i>0;i--){var c="number"===typeof t?Math.floor(Math.random()*t)+1:Math.floor(3*Math.random())-1;o.push(c),a+=c}return{total:a+=r,rolls:o}}(e);t.rolls=a.rolls,t.result=a.total,n.push(t),r+=t.result})),e.push({dice:n,result:r,rolled:new Date}),s(e)},handleAddRemove:function(e){e.preventDefault();var n=e.target,r=n.getAttribute("data-action"),o=+n.value,i=Object(l.a)(t);"add"===r?o===i.length?i.push(E):i.splice(o+1,0,E):i.splice(o,1),a(i)}}),Object(f.jsx)(A,{results:c}),Object(f.jsx)(b,{dice:t})]}),Object(f.jsx)(p,{})]})};t(20);i.a.render(Object(f.jsx)(I,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/dice-roller",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/dice-roller","/service-worker.js");c?(!function(e,n){fetch(e).then((function(t){var r=t.headers.get("content-type");404===t.status||!0===(null===r||void 0===r?void 0:r.includes("javascript"))?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()})).catch((function(){}))})).catch((function(){})):s(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})).catch((function(){}))):s(n,e)}))}}()}],[[21,1,2]]]);
//# sourceMappingURL=main.05efea71.chunk.js.map